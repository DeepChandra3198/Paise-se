<%- include('./partials/header', {hide:true})%>
  <style>
    input,
    select,
    textarea {
      font-family: Arial, sans-serif !important;
    }
  </style>

  <div class="preloader" style="display: block">
    <div class="loader">
      <div class="shadow"></div>
      <div class="box"></div>
    </div>
  </div>
  <!-- End Preloader -->


  <!-- Loader -->
  <div id="screen-loader"
    class="position-fixed top-0 start-0 w-100 h-100 bg-light opacity-75 d-flex justify-content-center align-items-center screen-loader"
    style="z-index: 1050; visibility: hidden;">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>





  <!-- Start Login Area -->
  <section class="login-area">
    <div class="row m-0">
      <div class="col-lg-6 col-md-12 p-0">
        <div class="signup-image personal-loan-img">
          <img src="assets/img/personal-loan-bg.jpg" alt="image"
            class="wow animate__ animate__zoomInDown animated animated animated"
            style="visibility: visible; animation-name: zoomInDown" />
          <div class="app-download-content wow animate__ animate__zoomIn animated animated"
            style="visibility: visible; animation-name: zoomIn">
            <h2>B2B Agents Register</h2>
            <div class="bar"></div>

            <ul class="features-list">
              <% registerInstruction.forEach(master=> { %>
                <li>
                  <span><i class="flaticon-check-mark"></i>
                    <%= master.name %>
                  </span>
                </li>
                <% }) %>
            </ul>
          </div>
        </div>
      </div>

      <div class="col-lg-6 col-md-12">
        <div class="login-content login-content__">
          <div class="d-table">
            <div class="d-table-cell">
              <div class="login-form">
                <div class="logo black-logo">
                  <a href="index.html"><img src="/customer-assets/img/logo.png" alt="image" style="width: 200px" /></a>
                </div>
                <div class="logo white-logo">
                  <a href="index.html"><img src="/customer-assets/img/logo.png" alt="image" style="width: 200px" /></a>
                </div>





                <form class="register-form">



                  <div class="row">
                    <!-- check box start -->
                    <div class="container mt-5 mb-2">
                      <div class="row justify-content-center">
                        <div class="col-12 d-flex justify-content-center gap-4">
                          <!-- Checkbox 1 -->
                          <div class="text-center">
                            <input type="radio" id="individual" name="userType" class="rounded-checkbox"
                              value="Individual/Sole Proprietary" />
                            <label for="individual" class="checkbox-label">
                              Individual/Sole Proprietary
                            </label>
                          </div>

                          <!-- Checkbox 2 -->
                          <div class="text-center">
                            <input type="radio" id="partnership" name="userType" class="rounded-checkbox"
                              value="Partnership/LLP" />
                            <label for="partnership" class="checkbox-label">
                              Partnership/LLP
                            </label>
                          </div>

                          <!-- Checkbox 3 -->
                          <div class="text-center">
                            <input type="radio" id="private" name="userType" class="rounded-checkbox"
                              value="Private Limited" />
                            <label for="private" class="checkbox-label">
                              Private Limited
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- check box end -->
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input type="text" name="pancard" id="pancard" placeholder="Pan Number*" class="form-control"
                          required="true" pattern="[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}" />
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group upload_photo p-3" style="background: #0a66c2">
                        <label class="row p-6" role="button">
                          <input type="file" name="pancardDocument" id="pancardDocument"
                            onchange="displayDoc(this, 'Pancard');" placeholder="photo" class="form-control d-none"
                            accept=".jpg,.jpeg,.png,.pdf" />
                          <span class="text-center text-white fs-6" id="selectedPan">Upload Pancard<span
                              class="text-danger m-1">*</span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <input type="text" name="name" id="name" placeholder="Name*" class="form-control" required="true" />
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input type="tel" name="phone" id="phone" placeholder="Phone Number*"
                          class="form-control phoneNumber" required="true" pattern="[0-9]{10}" />
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <button class="form-control btn btn-primary text-white send-otp">
                          Verify Mobile
                        </button>
                      </div>
                    </div>
                    <div class="row input-otp-div d-none">
                      <div class="form-group col-sm-7">
                        <input type="text" name="otp" id="otp" placeholder="Enter OTP" class="form-control submitOtp"
                          required="true" />
                      </div>
                      <div class="form-group col-sm-5">
                        <button class="form-control btn btn-primary text-white verify-otp">
                          Submit OTP
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <input type="email" name="email" id="email" placeholder="Email id*" class="form-control"
                      required="true" />
                  </div>
                  <div class="form-group">
                    <input type="text" name="pincode" id="pincode" placeholder="Pincode *" class="form-control"
                      pattern="[0-9]{6}" required="true" />
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input type="text" name="state" id="state" placeholder="State*" class="form-control"
                          required="true" readonly />
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input type="text" name="city" id="city" placeholder="City*" class="form-control"
                          required="true" readonly />
                      </div>
                    </div>
                  </div>
                  <div class="form-group row upload_photo p-2"
                    style="background: #0a66c2; max-width: 99%; margin-left: 2px">
                    <label class="d-flex col-4" role="button">
                      <input type="file" name="profile" placeholder="photo" class="form-control d-none"
                        onchange="displayImage(this);" accept=".jpg,.jpeg,.png" />
                      <span class="text-center mt-2 text-white fs-6 w-100">Upload Photo<span
                          class="text-danger m-1">*</span></span>
                    </label>
                    <button type="button" class="btn btn-primary col-4 text-white" style="margin-left: 28%"
                      onclick="captureLivePhoto()">
                      Live Capture
                    </button>
                  </div>
                  <div id="cameraModal" class="modal" tabindex="-1" role="dialog">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">Capture Photo</h5>
                          <button type="button" class="close" onclick="closeModal()" data-dismiss="modal"
                            aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <video id="video" width="100%" autoplay></video>
                          <canvas id="canvas" style="display: none"></canvas>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-primary" onclick="takePhoto()">
                            Take Photo
                          </button>
                          <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="closeModal()">
                            Close
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div style="justify-content: center; display: flex">
                    <img id="selectedImage" src="#" alt="Selected Image" style="display: none; max-height: 100px" />
                  </div>

                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input type="text" name="aadhar" id="aadhar" placeholder="Aadhar Number *" class="form-control"
                          required="true" pattern="[0-9]{12}" />
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group upload_photo p-3" style="background: #0a66c2">
                        <label class="row p-6" role="button">
                          <input type="file" name="aadharCardDocument" id="number"
                            onchange="displayDoc(this, 'Aadhar');" placeholder="photo" class="form-control d-none"
                            accept=".jpg,.jpeg,.png,.pdf" />
                          <span class="text-center text-white fs-6" id="selectedAadhar">Upload Aadhar<span
                              class="text-danger m-1">*</span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="row gst-control">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <input type="text" name="gstNumber" id="gstNumber" placeholder="GST Number" class="form-control"
                          pattern="[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[0-9]{1}[A-Za-z]{1}[0-9A-Za-z]{1}" />
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <button id="verifyGstButton" class="btn btn-primary form-control text-white">
                          Check
                        </button>
                      </div>
                    </div>
                  </div>

                  <button type="submit" class="form-control btn btn-primary text-white register-submit d-none">
                    Next
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End Login Area -->

  <!-- Dark/Light Toggle -->
  <div class="dark-version">
    <label id="switch" class="switch">
      <input type="checkbox" onchange="toggleTheme()" id="slider" />
      <span class="slider round"></span>
    </label>
  </div>

  <!-- Links of JS files -->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/meanmenu.js"></script>
  <script src="assets/js/nice-select.min.js"></script>
  <script src="assets/js/slick.min.js"></script>
  <script src="assets/js/magnific-popup.min.js"></script>
  <script src="assets/js/appear.min.js"></script>
  <script src="assets/js/odometer.min.js"></script>
  <script src="assets/js/owl.carousel.min.js"></script>
  <script src="assets/js/parallax.min.js"></script>
  <script src="assets/js/wow.min.js"></script>
  <script src="assets/js/form-validator.min.js"></script>
  <script src="assets/js/contact-form-script.js"></script>
  <script src="assets/js/jquery.ajaxchimp.min.js"></script>
  <script src="assets/js/main.js"></script>
  <a href="https://themeforest.net/checkout/from_item/24748730?license=regular&amp;support=bundle_6month&amp;_ga=2.127639053.1035807767.1645331073-1425290503.1590986634"
    class="buy-now-btn" target="_blank"><img src="assets/img/envato.png" alt="envato" /></a>
  <script type="module" src="/javascripts/customer/register.js"></script>

  <!-- Start Footer Area -->
  <script>
    function displayImage(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          document.getElementById("selectedImage").src = e.target.result;
          document.getElementById("selectedImage").style.display = "block";
        };
        reader.readAsDataURL(input.files[0]);
      }
    }
    function displayDoc(input, docName) {
      if (docName == "Aadhar") {
        if (input.files && input.files[0]) {
          document.getElementById("selectedAadhar").innerText =
            input.files[0].name;
        }
      } else if (docName == "Pancard") {
        if (input.files && input.files[0]) {
          document.getElementById("selectedPan").innerText = input.files[0].name;
        }
      }
    }
  </script>
  <script>
    function captureLivePhoto() {
      const modal = document.getElementById("cameraModal");
      const video = document.getElementById("video");

      // Get access to the camera
      navigator.mediaDevices
        .getUserMedia({ video: true })
        .then((stream) => {
          video.srcObject = stream;
          video.play();
        })
        .catch((err) => {
          console.error("Error accessing the camera: ", err);
        });

      // Show the modal
      $(modal).modal("show");
    }

    function dataURLtoFile(dataurl, filename) {
      var arr = dataurl.split(","),
        mime = arr[0].match(/:(.*?);/)[1],
        bstr = atob(arr[1]),
        n = bstr.length,
        u8arr = new Uint8Array(n);
      while (n--) {
        u8arr[n] = bstr.charCodeAt(n);
      }
      return new File([u8arr], filename, { type: mime });
    }

    function takePhoto() {
      const video = document.getElementById("video");
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");
      const modal = document.getElementById("cameraModal");

      // Draw the image from the video onto the canvas
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      context.drawImage(video, 0, 0, canvas.width, canvas.height);

      // Stop all video streams
      const stream = video.srcObject;
      const tracks = stream.getTracks();
      tracks.forEach((track) => track.stop());

      // Convert the canvas image to a data URL
      const dataURL = canvas.toDataURL("image/png");
      document.getElementById("selectedImage").src = dataURL;
      document.getElementById("selectedImage").style.display = "block";

      // Convert data URL to a File object
      const imageFile = dataURLtoFile(dataURL, "profile.png");

      // Get the existing profile input element
      const profileInput = document.querySelector('input[name="profile"]');

      // Update the profile input with the new File object
      const dataTransfer = new DataTransfer();
      dataTransfer.items.add(imageFile);
      profileInput.files = dataTransfer.files;

      // Hide the modal
      $(modal).modal("hide");
    }

    function closeModal() {
      const modal = document.getElementById("cameraModal");
      $(modal).modal("hide");
    }
  </script>
  <script type="module" src="/javascripts/customer/login.js"></script>
  <!-- Add Bootstrap CSS and JS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <div class="responsiveFooter" style="margin-top: 400px">
    <%- include('./partials/footer') %>
  </div>